parameters:
  asu_api.backend.base_url_variable: 'ASU_DJANGO_BACKEND_URL'
  asu_api.elastic.base_url_variable: 'ASU_ELASTICSEARCH_ADDRESS'
  asu_api.elastic.username_variable: 'ASU_ELASTICSEARCH_USERNAME'
  asu_api.elastic.password_variable: 'ASU_ELASTICSEARCH_PASSWORD'

services:
  asu_api.backend_client:
    factory: ['Drupal\asu_api\Api\ClientFactory', 'create']
    class: GuzzleHttp\Client
    arguments: ['%asu_api.backend.base_url_variable%']

  asu_api.backendapi:
    class: Drupal\asu_api\Api\BackendApi\BackendApi
    arguments: ['@asu_api.backend_client']
