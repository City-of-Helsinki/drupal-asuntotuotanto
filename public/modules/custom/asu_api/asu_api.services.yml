parameters:
  asu_api.backend.base_url_variable: 'ASU_DJANGO_BACKEND_URL'
  asu_api.asko.hitas_address_variable: 'ASU_ASKO_HASO_ADDRESS'
  asu_api.asko.haso_address_variable: 'ASU_ASKO_HITAS_ADDRESS'

services:
  asu_api.backend_client:
    factory: ['Drupal\asu_api\Api\ClientFactory', 'create']
    class: GuzzleHttp\Client
    arguments: ['%asu_api.backend.base_url_variable%']
  logger.channel.asu_api:
    parent: logger.channel_base
    arguments: ['backend_api']
  asu_api.backendapi:
    class: Drupal\asu_api\Api\BackendApi\BackendApi
    arguments: ['@asu_api.backend_client', '@logger.channel.asu_api']
  asu_api.error_code_service:
    class: Drupal\asu_api\ErrorCodeService
  asu_api.askoapi:
    class: Drupal\asu_api\Api\AskoApi\AskoApi
    arguments: ['%asu_api.asko.hitas_address_variable%', '%asu_api.asko.haso_address_variable%']
