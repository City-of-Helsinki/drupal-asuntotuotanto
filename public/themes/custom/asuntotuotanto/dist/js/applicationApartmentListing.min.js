!function(t){function e(r){if(o[r])return o[r].exports;var i=o[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var o={};e.m=t,e.c=o,e.d=function(t,o,r){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="../",e(e.s=18)}({18:function(t,e,o){t.exports=o(19)},19:function(){jQuery,Drupal.behaviors.applicationApartmentListing={attach:function(){document.querySelector("#application__lottery--show--draft"),document.querySelector("#application__lottery--hide--draft"),document.querySelector("#application__lottery-link--show--draft"),document.querySelector("#application__lottery-link--hide--draft"),document.querySelectorAll("#application__lottery-results--draft");let t=document.querySelector("#application__lottery--show--submitted"),e=document.querySelector("#application__lottery--hide--submitted"),o=document.querySelector("#application__lottery-link--show--submitted"),r=document.querySelector("#application__lottery-link--hide--submitted"),i=document.querySelectorAll("#application__lottery-results--submitted");o.addEventListener("click",r=>{o.classList.add("throbber"),n(r,r=>{console.log(r),[...document.querySelectorAll("#application__lottery-results--submitted")].forEach(t=>{t.classList.remove("is-hidden")}),t.classList.add("is-hidden"),e.classList.remove("is-hidden"),o.classList.remove("throbber")})}),r.addEventListener("click",()=>{t.classList.add("is-hidden"),[...i.classList()].forEach(t=>{t.classList.add("is-hidden")})}),console.log("is updated"),null!==o&&o.addEventListener("click",t=>{[...i].forEach(()=>{}),t.stopPropagation()}),null!==r&&r.addEventListener("click",()=>{});const n=(t,e)=>{const o=jQuery(t.target);if(1==o.data("loaded"))return void e();o.data("loaded",1);const r=o.data("application");jQuery.ajax({url:"application/results",method:"POST",dataType:"json",data:{application_id:r},success:function(t){t&&t.length&&Array.from(t).forEach((function(t){let e=".application-apartment-"+t.apartment_id;Array.from(jQuery(".lottery-result"+e)).forEach((function(e){jQuery(e).find(".result").first().html(t.position),jQuery(e).find(".current-position").first().html(t.current_position),jQuery(e).find(".status").first().html(t.status)}))})),document.querySelector("#application__lottery--show--submitted").classList.add("is-hidden"),document.querySelector("#application__lottery--show--submitted").classList.remove("is-hidden"),e("success")},failed:function(){e("failed")},complete:function(){document.querySelector("#application__lottery--show--submitted").classList.add("is-hidden"),document.querySelector("#application__lottery--show--submitted").classList.remove("is-hidden"),e("finished")}})}}}}});