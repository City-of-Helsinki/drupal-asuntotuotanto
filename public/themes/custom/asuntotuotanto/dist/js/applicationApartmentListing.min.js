((t,a)=>{a.behaviors.applicationApartmentListing={attach:function(){document.querySelectorAll(".application__lottery--show--draft").forEach((a=>{a.addEventListener("click",(a=>{const e=t(a.target).parent().data("application");document.querySelectorAll(`[data-application="${e}"]`).forEach((a=>t(a).removeClass("is-hidden"))),t(a.target).parent().addClass("is-hidden")}))})),document.querySelectorAll(".application__lottery--hide--draft > a").forEach((a=>a.addEventListener("click",(a=>{const e=t(a.target).parent().data("application");document.querySelectorAll(`[data-application="${e}"]`).forEach((a=>t(a).addClass("is-hidden"))),t(a.target).parent().addClass("is-hidden"),t(`.application__lottery--show--draft[data-application="${e}"]`).removeClass("is-hidden")})))),document.querySelectorAll(".application__lottery-link--show--submitted").forEach((e=>{e.addEventListener("click",(e=>{let i=t(e.target).parent().data("application");t(e.target).addClass("throbber"),1!=t(e.target).data("loaded")?a(e,(()=>{document.querySelectorAll(`[data-application="${i}"]`).forEach((a=>t(a).removeClass("is-hidden"))),t(e.target).removeClass("throbber"),t(e.target).parent().addClass("is-hidden"),t(`#application__lottery--hide--submitted[data-application="${i}"]`).removeClass("is-hidden")})):(t(e.target).removeClass("throbber"),t(e.target).parent().addClass("is-hidden"),t(`.application__lottery-results-submitted[data-application="${i}"]`).removeClass("is-hidden"),t(`#application__lottery--hide--submitted[data-application="${i}"]`).removeClass("is-hidden"))}))})),document.querySelectorAll(".application__lottery-link--hide").forEach((a=>{a.addEventListener("click",(a=>{let e=t(a.target).parent().data("application");t(`.application__lottery-results-submitted[data-application="${e}"]`).addClass("is-hidden"),t(`.application__lottery--show[data-application="${e}"]`).removeClass("is-hidden"),t(a.target).parent().addClass("is-hidden")}))}));const a=(t,a)=>{const e=jQuery(t.target);e.data("loaded",1);const i=e.parent().data("application");jQuery.ajax({url:"application/results",method:"POST",dataType:"json",data:{application_id:i},success:function(t){t&&t.length&&Array.from(t).forEach((function(t,a,e){let i=".application-apartment-"+t.apartment_id;Array.from(jQuery(".lottery-result"+i)).forEach((function(a){jQuery(a).find(".result").first().html(t.position),jQuery(a).find(".status").first().html(t.status)}))})),a()},failed:function(t){a()},complete:function(){a()}})};document.querySelectorAll(".application__lottery-link--toggle").forEach((a=>{a.addEventListener("click",(a=>{let e=t(a.target).data("application");t("#result-"+e).each((function(t){this.click()}))}))}))}}})(jQuery,Drupal);